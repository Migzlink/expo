{"version":3,"file":"ModalsRenderer.web.js","sourceRoot":"","sources":["../../src/modal/ModalsRenderer.web.tsx"],"names":[],"mappings":";AAAA,YAAY,CAAC;;;AAEb,qDAAoD;AACpD,+CAAgD;AAEhD,qDAAkD;AAElD,mCAA0E;AAC1E,+EAAwE;AACxE,6EAA6E;AAC7E,yDAAgD;AAEzC,MAAM,cAAc,GAAG,CAAC,EAC7B,QAAQ,EACR,YAAY,EACZ,WAAW,EACX,MAAM,GACc,EAAE,EAAE;IACxB,OAAO,CACL,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,EAAE,IAAI,EAAE,CAAC,EAAE,OAAO,EAAE,MAAM,EAAE,CAAC,CACvC;MAAA,CAAC,QAAQ,CACT;MAAA,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,EAAE,CAAC,CAC5B,CAAC,KAAK,CACJ,GAAG,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,CACrB,MAAM,CAAC,CAAC,MAAM,CAAC,CACf,WAAW,CAAC,CAAC,GAAG,EAAE,CAAC,WAAW,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,EAClD,CACH,CAAC,CACJ;IAAA,EAAE,GAAG,CAAC,CACP,CAAC;AACJ,CAAC,CAAC;AAlBW,QAAA,cAAc,kBAkBzB;AAOF,SAAS,KAAK,CAAC,EAAE,MAAM,EAAE,WAAW,EAAc;IAChD,MAAM,EAAE,MAAM,EAAE,GAAG,IAAA,iBAAQ,GAAE,CAAC;IAE9B,MAAM,YAAY,GAAG,IAAA,gCAAwB,EAAC,MAAM,CAAC,CAAC;IAEtD,IAAI,YAAY,KAAK,kBAAkB,IAAI,YAAY,KAAK,iBAAiB,EAAE,CAAC;QAC9E,OAAO,CACL,CAAC,qBAAM,CACL;QAAA,CAAC,mBAAI,CAAC,KAAK,CAAC,CAAC,yBAAU,CAAC,YAAY,CAAC,CACnC;UAAA,CAAC,mBAAI,CACH,IAAI,MAAM,CAAC,SAAS,CAAC,CACrB,KAAK,CAAC,CAAC,CAAC,EAAE,IAAI,EAAE,CAAC,EAAE,eAAe,EAAE,MAAM,CAAC,UAAU,EAAE,EAAE,MAAM,CAAC,SAAS,EAAE,KAAK,CAAC,CAAC,CAClF;YAAA,CAAC,+BAAc,CAAC,WAAW,CAAC,CAAC,MAAM,CAAC,EACtC;UAAA,EAAE,mBAAI,CACR;QAAA,EAAE,mBAAI,CACR;MAAA,EAAE,qBAAM,CAAC,CACV,CAAC;IACJ,CAAC;IAED,OAAO,CACL,CAAC,iDAAqB,CACpB,QAAQ,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,CAC1B,SAAS,CAAC,CAAC,WAAW,CAAC,CACvB,WAAW,CAAC,CAAC,MAAM,CAAC,CACpB,GAAG,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,CACrB,OAAO,CAAC,CAAC;YACP,YAAY,EAAE,IAAA,gCAAwB,EAAC,MAAM,CAAC;YAC9C,SAAS,EAAE,IAAA,6BAAqB,EAAC,MAAM,CAAC;YACxC,WAAW,EAAE,KAAK;YAClB,mBAAmB,EAAE,MAAM,CAAC,OAAO;SACpC,CAAC,CACF,YAAY,CAAC,CAAC,GAAG,EAAE,CAAC,CAClB,CAAC,mBAAI,CAAC,KAAK,CAAC,CAAC,EAAE,KAAK,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,CAAC,CAC7C;UAAA,CAAC,mBAAI,CAAC,IAAI,MAAM,CAAC,SAAS,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,IAAI,EAAE,CAAC,EAAE,EAAE,MAAM,CAAC,SAAS,EAAE,KAAK,CAAC,CAAC,CACxE;YAAA,CAAC,+BAAc,CAAC,WAAW,CAAC,CAAC,MAAM,CAAC,EACtC;UAAA,EAAE,mBAAI,CACR;QAAA,EAAE,mBAAI,CAAC,CACR,CAAC,EACF,CACH,CAAC;AACJ,CAAC","sourcesContent":["'use client';\n\nimport { useTheme } from '@react-navigation/native';\nimport { StyleSheet, View } from 'react-native';\n\nimport { ModalComponent } from './ModalComponent';\nimport type { ModalConfig, ModalsRendererProps } from './types';\nimport { getStackAnimationType, getStackPresentationType } from './utils';\nimport { ModalStackRouteDrawer } from './web/ModalStackRouteDrawer.web';\n// TODO: think about better approach. This is transitive dependency from vaul\nimport { Portal } from '@radix-ui/react-portal';\n\nexport const ModalsRenderer = ({\n  children,\n  modalConfigs,\n  onDismissed,\n  onShow,\n}: ModalsRendererProps) => {\n  return (\n    <div style={{ flex: 1, display: 'flex' }}>\n      {children}\n      {modalConfigs.map((config) => (\n        <Modal\n          key={config.uniqueId}\n          config={config}\n          onDismissed={() => onDismissed?.(config.uniqueId)}\n        />\n      ))}\n    </div>\n  );\n};\n\ninterface ModalProps {\n  config: ModalConfig;\n  onDismissed: () => void;\n}\n\nfunction Modal({ config, onDismissed }: ModalProps) {\n  const { colors } = useTheme();\n\n  const presentation = getStackPresentationType(config);\n\n  if (presentation === 'transparentModal' || presentation === 'fullScreenModal') {\n    return (\n      <Portal>\n        <View style={StyleSheet.absoluteFill}>\n          <View\n            {...config.viewProps}\n            style={[{ flex: 1, backgroundColor: colors.background }, config.viewProps?.style]}>\n            <ModalComponent modalConfig={config} />\n          </View>\n        </View>\n      </Portal>\n    );\n  }\n\n  return (\n    <ModalStackRouteDrawer\n      routeKey={config.uniqueId}\n      onDismiss={onDismissed}\n      themeColors={colors}\n      key={config.uniqueId}\n      options={{\n        presentation: getStackPresentationType(config),\n        animation: getStackAnimationType(config),\n        headerShown: false,\n        sheetAllowedDetents: config.detents,\n      }}\n      renderScreen={() => (\n        <View style={{ width: '100%', height: '100%' }}>\n          <View {...config.viewProps} style={[{ flex: 1 }, config.viewProps?.style]}>\n            <ModalComponent modalConfig={config} />\n          </View>\n        </View>\n      )}\n    />\n  );\n}\n"]}